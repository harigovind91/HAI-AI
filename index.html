import os
from flask import Flask, render_template_string, request, session, redirect

app = Flask(__name__)
app.secret_key = "SANSAR-SWARG-2026-HAI"

# --- üè¶ ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞ ‡§è‡§°‡§Æ‡§ø‡§® ‡§∏‡•á‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏ (Bank & Gateway) ---
admin_settings = {
    "status": "Strong & Active",
    "gateway": "Stripe / PayPal / Razorpay Global",
    "upi_id": "harigovind91@upi",
    "price": "$9.99 / ‚Çπ820"
}

# --- üé® ‡§è‡§°‡§µ‡§æ‡§Ç‡§∏‡•ç‡§° UI (HGAI Agent Professional Level) ---
BASE_HTML = """
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HAI - Enterprise Ecosystem</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #05070a; color: #f0f6fc; font-family: 'Inter', sans-serif; overflow: hidden; }
        .glass { background: rgba(13, 17, 23, 0.8); backdrop-filter: blur(20px); border: 1px solid #30363d; }
        .chat-area { height: 72vh; overflow-y: auto; resize: both; border: 2px solid #21262d; }
        .gradient-text { background: linear-gradient(to right, #1f6feb, #8957e5); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    </style>
</head>
<body class="flex flex-col h-screen">
    <nav class="p-4 glass flex justify-between items-center z-50">
        <div class="flex items-center space-x-3">
            <div class="w-10 h-10 bg-gradient-to-br from-blue-600 to-purple-600 rounded-xl shadow-lg"></div>
            <h1 class="text-xl font-black gradient-text">HAI PRO</h1>
        </div>
        <div class="flex items-center space-x-4">
            <span class="text-[10px] text-green-400 font-bold uppercase tracking-widest">‚óè Backend: {{ status }}</span>
            <button class="bg-blue-600 hover:bg-blue-700 px-5 py-2 rounded-full text-xs font-black transition transform hover:scale-105">SIGNUP</button>
        </div>
    </nav>

    <main class="flex-1 p-4 flex justify-center overflow-hidden">
        <div id="chatBox" class="chat-area w-full max-w-6xl glass rounded-[40px] p-8 shadow-2xl relative">
            <div id="messages" class="space-y-6">
                <div class="flex items-start space-x-3">
                    <div class="p-2 bg-blue-900/30 rounded-lg text-blue-400">ü§ñ</div>
                    <div class="bg-[#161b22] p-4 rounded-2xl max-w-lg text-sm border border-[#30363d] shadow-lg">
                        Namaste! Main HAI hoon. Aapka backend "Strong & Active" hai.
                        Design ya Multimedia kaam ke liye Premium Subscription anivarya hai.
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="p-6 glass border-t border-[#30363d]">
        <div class="max-w-4xl mx-auto flex items-center space-x-4 bg-[#0d1117] p-2 rounded-2xl border border-[#30363d]">
            <label class="p-3 hover:bg-[#21262d] rounded-full cursor-pointer transition">
                <span class="text-2xl text-blue-500">‚ûï</span>
                <input type="file" id="mediaInput" class="hidden" multiple accept="image/*,video/*,.pdf,.xlsx">
            </label>
            <input type="text" id="userInput" placeholder="‡§Æ‡•Å‡§ù‡§∏‡•á ‡§ï‡•Å‡§õ ‡§≠‡•Ä ‡§°‡§ø‡§ú‡§æ‡§á‡§® ‡§ï‡§∞‡§µ‡§æ‡§è‡§Ç..." 
                   class="flex-1 bg-transparent border-none text-white focus:ring-0 text-lg">
            <button onclick="handleAI()" class="bg-blue-600 text-white px-8 py-3 rounded-xl font-black shadow-lg hover:bg-blue-500 transition active:scale-95">SEND</button>
        </div>
        <div class="mt-4 flex justify-center space-x-8 text-[10px] text-gray-500 font-black uppercase tracking-[3px]">
            <span>Secure Gateway: {{ gateway }}</span><span>¬© 2026 HAI GLOBAL</span>
        </div>
    </footer>

    <div id="payModal" class="fixed inset-0 bg-black/95 hidden z-[100] flex items-center justify-center p-6 text-center">
        <div class="glass p-10 rounded-[50px] max-w-md w-full border-2 border-blue-500 shadow-2xl shadow-blue-500/20">
            <div class="text-6xl mb-6">üíé</div>
            <h2 class="text-2xl font-black mb-4 uppercase">Advance Mode Required</h2>
            <p class="text-gray-400 mb-8 text-sm">‡§°‡§ø‡§ú‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§î‡§∞ ‡§π‡§æ‡§à-‡§∏‡•ç‡§™‡•Ä‡§° ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡•Ä‡§Æ‡§ø‡§Ø‡§Æ ‡§™‡•ç‡§≤‡§æ‡§® ‡§ö‡•Å‡§®‡•á‡§Ç‡•§</p>
            <div class="bg-[#0d1117] p-6 rounded-3xl mb-8 flex justify-between items-center border border-[#30363d]">
                <span class="text-gray-500 font-bold uppercase text-[10px]">Total Price</span>
                <span class="text-2xl font-black text-white">{{ price }}</span>
            </div>
            <button onclick="initPayment()" class="w-full bg-blue-600 py-4 rounded-2xl font-black tracking-widest hover:scale-105 transition shadow-lg">PAY & ACTIVATE</button>
            <button onclick="document.getElementById('payModal').classList.add('hidden')" class="mt-4 text-gray-600 text-[10px] font-black uppercase">CANCEL</button>
        </div>
    </div>

    <script>
        function handleAI() {
            const val = document.getElementById('userInput').value.toLowerCase();
            if(!val) return;
            if(val.includes('design') || val.includes('create') || val.includes('‡§¨‡§®‡§æ‡§ì')) {
                document.getElementById('payModal').classList.remove('hidden');
            } else {
                document.getElementById('messages').innerHTML += `<div class="text-right text-blue-400 font-bold">You: ${val}</div>`;
                document.getElementById('userInput').value = '';
            }
        }
        function initPayment() { alert("Connecting to HAI Global Merchant: " + "{{ upi }}"); }
    </script>
</body>
</html>
"""

# --- üöÄ ROUTES ---

@app.route('/')
def home():
    #
    return render_template_string(BASE_HTML, status=admin_settings['status'], gateway=admin_settings['gateway'], price=admin_settings['price'], upi=admin_settings['upi_id'])

@app.route('/hari-global-control-panel-2026')
def admin_portal():
    if not session.get('master_access'): return redirect('/master-login')
    return f"<h1>HAI Control Panel</h1><p>Bank: {admin_settings['upi_id']}</p>"

@app.route('/master-login', methods=['GET', 'POST'])
def login():
    if request.method == 'POST' and request.form.get('key') == "SANSAR-SWARG-2026-HAI":
        session['master_access'] = True
        return redirect('/hari-global-control-panel-2026')
    return "<body style='background:#000;color:cyan;text-align:center;padding:100px;'><form method='post'>MASTER KEY: <input name='key' type='password'><button>UNLOCK</button></form></body>"

if __name__ == "__main__":
    app.run(debug=True)
