<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HAI Studio - Advanced AI Build Engine</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.0/lucide.min.js"></script>
    <style>
        :root { 
            --bg: #05070a; 
            --panel: #11141d; 
            --accent: #00d2ff; 
            --text: #f0f6fc; 
            --glass: rgba(255, 255, 255, 0.05);
        }
        
        body, html { margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); height: 100vh; overflow: hidden; }

        /* Full Screen Pages */
        .app-shell { display: flex; flex-direction: column; height: 100vh; position: relative; }
        .page-container { flex: 1; position: relative; overflow: hidden; }
        .page { display: none; height: 100%; width: 100%; overflow-y: auto; }
        .active-page { display: block; }

        /* Chat Stream */
        #chat-page { padding: 20px; box-sizing: border-box; display: flex; flex-direction: column; }
        .chat-stream { flex: 1; overflow-y: auto; padding-bottom: 220px; scroll-behavior: smooth; }
        .bubble { margin-bottom: 20px; padding: 15px; border-radius: 18px; max-width: 85%; animation: fadeIn 0.3s ease; position: relative; line-height: 1.6; }
        .ai-bubble { background: var(--panel); border-left: 4px solid var(--accent); border-bottom-left-radius: 2px; }
        .user-bubble { background: var(--accent); color: #000; margin-left: auto; border-bottom-right-radius: 2px; font-weight: 500; }

        /* Resizable Mega Box */
        .input-anchor { 
            position: fixed; bottom: 90px; left: 50%; transform: translateX(-50%); 
            width: 95%; max-width: 900px; z-index: 1000; 
        }
        
        .resize-handle { 
            width: 50px; height: 6px; background: #333; margin: 0 auto 8px; 
            border-radius: 10px; cursor: ns-resize; transition: 0.3s;
        }
        .resize-handle:hover { background: var(--accent); }

        .mega-box { 
            background: #1c2128; border: 1px solid #30363d; border-radius: 24px; 
            padding: 10px 15px; box-shadow: 0 15px 50px rgba(0,0,0,0.8);
        }

        .input-row { display: flex; align-items: center; gap: 12px; min-height: 50px; }
        
        textarea { 
            flex: 1; background: transparent; border: none; color: white; 
            outline: none; font-size: 16px; resize: none; min-height: 24px; max-height: 400px;
        }

        /* Multimedia Menu */
        .plus-actions { 
            display: none; grid-template-columns: repeat(4, 1fr); gap: 15px; 
            padding: 20px 10px; border-bottom: 1px solid #333; margin-bottom: 10px;
            animation: slideUp 0.3s ease;
        }
        .action-item { 
            display: flex; flex-direction: column; align-items: center; 
            font-size: 12px; color: #8b949e; cursor: pointer; 
        }
        .action-item i { background: #2d333b; padding: 12px; border-radius: 50%; color: var(--accent); margin-bottom: 8px; transition: 0.3s; }
        .action-item:hover i { transform: scale(1.1); background: var(--accent); color: #000; }

        /* UI Buttons */
        .icon-btn { cursor: pointer; color: #8b949e; transition: 0.3s; display: flex; align-items: center; justify-content: center; }
        .icon-btn:hover { color: var(--accent); transform: scale(1.1); }
        .send-btn { color: var(--accent); }

        /* Preview Page */
        .cloud-status { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; padding: 20px; }
        .status-card { background: var(--panel); border: 1px solid var(--accent); padding: 40px; border-radius: 28px; max-width: 550px; width: 90%; text-align: center; }
        
        /* Footer */
        footer { 
            height: 75px; background: var(--panel); border-top: 1px solid #30363d; 
            display: flex; justify-content: space-around; align-items: center;
        }
        .nav-btn { display: flex; flex-direction: column; align-items: center; color: #8b949e; cursor: pointer; flex: 1; }
        .nav-btn.active { color: var(--accent); }
        .nav-btn span { font-size: 11px; margin-top: 4px; font-weight: 600; }

        /* Animations */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .spin { animation: spin 2s linear infinite; }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* Menu Button */
        .menu-top { position: absolute; top: 20px; left: 20px; z-index: 2000; background: var(--panel); padding: 8px; border-radius: 10px; border: 1px solid #333; }
    </style>
</head>
<body>

    <div class="menu-top icon-btn">
        <i data-lucide="menu" size="24"></i>
    </div>

    <div class="app-shell">
        <div class="page-container">
            <section id="chat-page" class="page active-page">
                <div class="chat-stream" id="chat-stream">
                    <div class="bubble ai-bubble">
                        <b>HAI Studio Cloud Engine v3.5</b><br>
                        स्वागत है Harigovind जी। मैं आपके प्रोजेक्ट्स को डिप्लॉय करने के लिए तैयार हूँ। क्या बनाना चाहेंगे?
                    </div>
                </div>

                <div class="input-anchor">
                    <div class="resize-handle" id="resize-drag" onclick="toggleTextareaSize()"></div>
                    <div class="mega-box">
                        <div class="plus-actions" id="plus-menu">
                            <label class="action-item"><i data-lucide="image"></i>गैलरी <input type="file" hidden onchange="uploadTrigger('Gallery')"></label>
                            <label class="action-item"><i data-lucide="camera"></i>कैमरा <input type="file" capture="camera" hidden onchange="uploadTrigger('Camera')"></label>
                            <label class="action-item"><i data-lucide="folder-up"></i>फाइलें <input type="file" hidden onchange="uploadTrigger('Files')"></label>
                            <label class="action-item"><i data-lucide="play-circle"></i>वीडियो <input type="file" accept="video/*" hidden onchange="uploadTrigger('Video')"></label>
                        </div>
                        <div class="input-row">
                            <div class="icon-btn" onclick="togglePlus()"><i data-lucide="plus-circle" id="plus-icon"></i></div>
                            <textarea id="user-input" placeholder="निर्देश लिखें..." rows="1" oninput="autoGrow(this)"></textarea>
                            <div class="icon-btn" id="mic-btn" onclick="startVoiceChat()"><i data-lucide="mic"></i></div>
                            <div class="icon-btn send-btn" onclick="processChat()"><i data-lucide="arrow-right-circle" size="32"></i></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="preview-page" class="page">
                <div class="cloud-status">
                    <div class="status-card">
                        <i data-lucide="cpu" class="spin" size="50" style="color:var(--accent); margin-bottom: 20px;"></i>
                        <h2 style="margin: 10px 0;">Cloud Computing Active</h2>
                        <p style="color:#8b949e; margin-bottom: 25px;">प्रोजेक्ट: <b>Global-App-Deploy-2026</b><br>सर्वर स्थिति: रिस्पॉन्सिव</p>
                        
                        <div style="background: #000; padding: 15px; border-radius: 12px; text-align: left; font-family: monospace; font-size: 13px; margin-bottom: 25px; border: 1px solid #222;">
                            > Generating APK... Done<br>
                            > Syncing iOS Manifest... Done<br>
                            > Global Domain Mapping... Pending
                        </div>

                        <button class="pay-btn" onclick="triggerUPI()" style="background: var(--accent); color: #000; border: none; padding: 18px; width: 100%; border-radius: 15px; font-weight: bold; cursor: pointer; font-size: 16px;">
                            पब्लिश करें (HAI Studio Subscription)
                        </button>
                    </div>
                </div>
            </section>
        </div>

        <footer>
            <div class="nav-btn active" onclick="nav('chat-page')">
                <i data-lucide="message-square"></i>
                <span>CHAT PREVIEW</span>
            </div>
            <div class="nav-btn" onclick="nav('preview-page')">
                <i data-lucide="globe"></i>
                <span>PUBLISH PREVIEW</span>
            </div>
        </footer>
    </div>

    <script>
        lucide.createIcons();

        // 1. Navigation
        function nav(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active-page'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(id).classList.add('active-page');
            event.currentTarget.classList.add('active');
        }

        // 2. Resizable Textarea Logic
        let expanded = false;
        function toggleTextareaSize() {
            const area = document.getElementById('user-input');
            expanded = !expanded;
            area.style.height = expanded ? '250px' : '24px';
        }

        function autoGrow(element) {
            if(!expanded) {
                element.style.height = "5px";
                element.style.height = (element.scrollHeight) + "px";
            }
        }

        // 3. Plus Menu Toggle
        function togglePlus() {
            const m = document.getElementById('plus-menu');
            const icon = document.getElementById('plus-icon');
            const isOpen = m.style.display === 'grid';
            m.style.display = isOpen ? 'none' : 'grid';
            icon.style.transform = isOpen ? 'rotate(0deg)' : 'rotate(45deg)';
        }

        // 4. Voice Chat (Speech to Text & Text to Speech)
        function startVoiceChat() {
            const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.lang = 'hi-IN';
            const mic = document.getElementById('mic-btn');
            mic.style.color = 'red';
            
            recognition.onresult = (event) => {
                const text = event.results[0][0].transcript;
                document.getElementById('user-input').value = text;
                mic.style.color = '#8b949e';
                processChat(text);
            };
            recognition.start();
        }

        function speakResponse(text) {
            const synth = window.speechSynthesis;
            const utter = new SpeechSynthesisUtterance(text);
            utter.lang = 'hi-IN';
            synth.speak(utter);
        }

        // 5. Core Chat Logic
        function processChat(overrideText) {
            const input = document.getElementById('user-input');
            const val = overrideText || input.value.trim();
            if(!val) return;

            const stream = document.getElementById('chat-stream');
            stream.innerHTML += `<div class="bubble user-bubble">${val}</div>`;
            
            // AI Response logic
            setTimeout(() => {
                const response = "निश्चित ही Harigovind जी, मैं 'HAI Cloud' पर इस फीचर को इंप्लीमेंट कर रहा हूँ। आप पब्लिश सेक्शन में जाकर लाइव डिप्लॉयमेंट देख सकते हैं।";
                stream.innerHTML += `<div class="bubble ai-bubble"><b>HAI Studio:</b><br>${response}</div>`;
                stream.scrollTop = stream.scrollHeight;
                speakResponse(response);
            }, 1000);

            input.value = "";
            input.style.height = "24px";
            if(document.getElementById('plus-menu').style.display === 'grid') togglePlus();
        }

        // 6. Payment & UPI Gateway
        function triggerUPI() {
            const upiId = "harigovindsingh91-2@okhdfcbank";
            const brand = "HAI Studio";
            const amount = "999.00";
            // Deep Link for Mobile Apps (GPay, PhonePe, Paytm)
            const upiUrl = `upi://pay?pa=${upiId}&pn=${encodeURIComponent(brand)}&am=${amount}&cu=INR&tn=Cloud_Deployment_Sub`;
            
            window.location.href = upiUrl;
        }

        function uploadTrigger(type) {
            alert(`HAI Studio Engine: ${type} सफलतापूर्वक प्राप्त हुआ। प्रोसेसिंग शुरू...`);
            togglePlus();
        }
    </script>
</body>
</html>
